# ========================================
# 飞书 Claude CLI 对话机器人配置示例
# ========================================
# 使用方法：
# 1. 复制此文件为 .env：cp .env.example .env
# 2. 填写你的实际配置值
# 3. Windows 用户注意路径格式（使用反斜杠或正斜杠都可以）
# ========================================

# ==================== 飞书应用配置 ====================
# 飞书开放平台：https://open.feishu.cn/
# 应用凭证获取路径：开放平台 -> 你的应用 -> 凭证与基础信息
FEISHU_APP_ID=cli_xxxxxxxx
FEISHU_APP_SECRET=your_app_secret_here

# 测试群聊 ID（可选，用于开发测试）
# 获取方式：飞书客户端 -> 群设置 -> 群信息 -> 群 ID
FEISHU_TEST_CHAT_ID=oc_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==================== Claude CLI 配置 ====================
# Claude CLI 可执行文件路径（可选）
# 如果 claude 命令在 PATH 中，可以不配置此项
# macOS/Linux（通过 npm 安装）：
#   ~/.npm-global/bin/claude
#   /usr/local/bin/claude
# Windows（通过 npm 安装）：
#   C:\Users\YourName\AppData\Roaming\npm\claude.cmd
# CLAUDE_CLI_PATH=claude

# Anthropic API 配置（必需）
# API Key 和 Auth Token 获取：https://console.anthropic.com/
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_AUTH_TOKEN=your_auth_token_here
ANTHROPIC_BASE_URL=https://api.anthropic.com

# Claude Code 特性开关（可选）
CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=true
CLAUDE_CODE_ENABLE_UNIFIED_READ_TOOL=true

# ==================== 路径配置 ====================
# 项目配置文件（群聊绑定项目目录）
# 用于存储群聊与本地项目路径的映射关系
# macOS/Linux: ~/.feishu-bot/projects.json
# Windows: C:\Users\YourName\.feishu-bot\projects.json
PROJECT_CONFIG_FILE=~/.feishu-bot/projects.json

# ==================== 服务器配置 ====================
# HTTP 服务端口（用于 webhook 模式，可选）
PORT=8080

# ==================== 日志配置 ====================
# 日志级别: debug, info, warn, error
# debug: 详细调试信息（开发环境推荐）
# info: 一般信息（生产环境推荐）
LOG_LEVEL=info

# ==================== 群聊配置 ====================
# 群聊是否必须@机器人才会触发对话
# true: 必须@机器人（推荐生产环境，减少误触发）
# false: 任意消息都会触发对话（测试环境方便）
GROUP_REQUIRE_MENTION=false

# ==================== 跨平台部署说明 ====================
# macOS/Linux 部署：
#   1. 复制配置：cp .env.example .env
#   2. 填写配置值
#   3. 启动：./scripts/start-bot.sh
#
# Windows 部署：
#   1. 复制配置：copy .env.example .env
#   2. 填写配置值（注意路径格式）
#   3. 启动：scripts\start-bot.bat
#
# 路径格式示例：
#   macOS/Linux: ~/.feishu-bot/projects.json
#   Windows: C:\Users\YourName\.feishu-bot\projects.json
#   Windows (正斜杠也可以): C:/Users/YourName/.feishu-bot/projects.json
